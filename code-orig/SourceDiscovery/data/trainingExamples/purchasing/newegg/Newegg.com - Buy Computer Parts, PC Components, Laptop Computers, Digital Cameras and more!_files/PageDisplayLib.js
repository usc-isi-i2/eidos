usingNamespace("Biz.Page.Display")["Initialize"] = function() {window.attachEvent("onload",(function(){Biz.Page.Display.AutoWidthProductCell();}));window.attachEvent("onresize",Biz.Page.Display.AutoWidthProductCell);};usingNamespace("Web.Template")["Rollover"] = {displayId : "",timer : null,over : function(){var tgn = window.event.srcElement.nodeName;var lastId = Web.Template.Rollover.displayId;var o = (tgn == "IMG") ? window.event.srcElement.parentNode.parentNode.childNodes[0]:null;var nif=false;if (o && o.id != lastId) {Web.UI.Control.setAttribute(o,{"style.display":"block"});var apm=Biz.Page.Display.AutoPositionTabMenu;Web.UI.Control.setAttribute(o,{"style.right":""});if(!apm.checkWidth(o)){Web.UI.Control.setAttribute(o,{"style.right":"0px"});nif=true;};var f = o.parentNode.childNodes[1];if (f && f.nodeName == "IFRAME"){Web.UI.Control.setAttribute(f,{"style.width":o.offsetWidth});Web.UI.Control.setAttribute(f,{"style.height":o.offsetHeight});Web.UI.Control.setAttribute(f,{"style.filter":"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"});Web.UI.Control.setAttribute(f,{"style.display":"block"});Web.UI.Control.setAttribute(f,{"style.position":"absolute"});if(nif){Web.UI.Control.setAttribute(f,{"style.height":o.offsetHeight-24});Web.UI.Control.setAttribute(f,{"style.top":"24px"});Web.UI.Control.setAttribute(f,{"style.right":"0px"});nif=false;}else{Web.UI.Control.setAttribute(f,{"style.top":""});Web.UI.Control.setAttribute(f,{"style.right":""});};};Web.Template.Rollover.hidden();Web.Template.Rollover.displayId = o.id;};if(Web.Template.Rollover.timer){clearTimeout(Web.Template.Rollover.timer);};},out : function(){var tgn = window.event.srcElement.nodeName;var o = (tgn == "UL") ? window.event.srcElement : (tgn == "LI") ? window.event.srcElement.parentNode:(tgn == "A") ? window.event.srcElement.parentNode.parentNode : (tgn == "IMG") ? window.event.srcElement.parentNode.parentNode.childNodes[0]:{id:""};if (o.id==Web.Template.Rollover.displayId) {Web.Template.Rollover.timer = setTimeout(Web.Template.Rollover.hidden,100);};},hidden : function(){if(Web.Template.Rollover.displayId.length>0){var o = $(Web.Template.Rollover.displayId);var f = o.parentNode.childNodes[1];if (f && f.nodeName == "IFRAME"){Web.UI.Control.setAttribute(f,{"style.display":"none"});}Web.UI.Control.setAttribute(o,{"style.display":"none"});};Web.Template.Rollover.displayId = "";}};usingNamespace("Biz.Page.Display")["AutoWidthProductCell"] = function(){switch (Biz.Store.ProductCell.type){case Web.Enum.UI.ProductCell.Type.Normal:Biz.Page.Display.AutoWidthProductCellGeneral();break;case Web.Enum.UI.ProductCell.Type.DVD:Biz.Page.Display.AutoWidthProductCellDVD();break;default:break;};};usingNamespace("Biz.Page.Display")["AutoWidthProductCellGeneral"] = function() {if (!$("bodyCenterArea")){return;};var cell = $("bcaProductCell");if (!cell){cell=$("tabStoreProductCell");};if (!cell){return;};var w = parseInt($("bodyCenterArea").offsetWidth);var ic = cell.className.replace(/[^\d]/ig,'') - 0;w = (w < 700) ? 700:w;var cc = Math.floor(w / 230);var mx = (ic < 4) ? ic:4;cc = (cc > mx) ? mx:cc;var pd = ((w - (232 * cc)) / (cc*2)) + 'px';var hps;for (var i = 1; i <= ic; ++i) {if (hps = $('cellItem' + i)) {Web.UI.Control.setAttribute(hps,{"style.paddingLeft":pd});if ((i % cc) == 0) {Web.UI.Control.removeCss(hps,"crb");Web.UI.Control.setAttribute(hps,{"style.paddingRight":"0px"});} else {Web.UI.Control.addCss(hps,"crb");Web.UI.Control.setAttribute(hps,{"style.paddingRight":pd});};};};};usingNamespace("Biz.Page.Display")["AutoWidthProductCellDVD"] = function() {if (!$("bodyCenterArea")){return;};var ic = [0, 0, 0, 0];var itn = ["ne","ns","cs",""];var hdvd = false;var o,tic = 0;if (o = $("bcaneDVDProductCell")){ic[0] = o.className.replace(/[^\d]/ig,'') - 0;hdvd = true;o = null;};if (o = $("bcansDVDProductCell")){ic[1] = o.className.replace(/[^\d]/ig,'') - 0;hdvd = true;o = null;};if (o = $("bcacsDVDProductCell")){ic[2] = o.className.replace(/[^\d]/ig,'') - 0;hdvd = true;o = null;};if (o = $("bcaDVDProductCell")){ic[3] = o.className.replace(/[^\d]/ig,'') - 0;hdvd = true;o = null;};if (!hdvd){return;};for (var i = 0; i < ic.length; ++i) {tic = (tic < ic[i]) ? ic[i]:tic;};var w = parseInt($("bodyCenterArea").offsetWidth);w = (w < 700) ? 700:w;var cc = Math.floor(w / 230);var mx = (tic < 4) ? ic:4;cc = (cc > mx) ? mx:cc;var pd = ((w - (230 * cc)) / (cc*2)) + 'px';var hps;for (var j = 0; j < ic.length; ++j) {for (var i = 1; i <= ic[j]; ++i) {if (hps = $(itn[j] + 'CellItem' + i)) {Web.UI.Control.setAttribute(hps,{"style.display":""});Web.UI.Control.setAttribute(hps,{"style.paddingLeft":pd});if ((i % cc) == 0) {Web.UI.Control.removeCss(hps,"crb");Web.UI.Control.setAttribute(hps,{"style.paddingRight":"0px"});} else {Web.UI.Control.addCss(hps,"crb");Web.UI.Control.setAttribute(hps,{"style.paddingRight":pd});};};};if (j == 0 && cc == 3 && hps){Web.UI.Control.setAttribute(hps,{"style.display":"none"});};};};usingNamespace("Biz.Page.Display")["AutoFontSizeForFF"] = function() {var dBody=document.defaultView.getComputedStyle(document.body,null);if(!dBody){return;}var dSize=dBody.getPropertyValue("font-size");dSize=Number.parse(dSize.replace("/[^\d]/",""));var lastsize=0;try{lastsize=Runtime.Page.Display.Parameters.LAST_SIZE;}catch(ex){lastsize=usingNamespace("Runtime.Page.Display.Parameters")["LAST_SIZE"]=0;};if(dSize==lastsize){return;};if(dSize>10){if(dSize<14){Biz.Page.Display.AutoFontSize.setCss("biggerFontSizeTemplate");}else{Biz.Page.Display.AutoFontSize.setCss("biggestFontSizeTemplate");};}else{Biz.Page.Display.AutoFontSize.clearCss();};Runtime.Page.Display.Parameters.LAST_SIZE=dSize;Biz.Page.Display.AutoFontSize.showWarning(dSize);};usingNamespace("Biz.Page.Display")["AutoFontSizeForIE"] = function() {if (!window.readyState=="complete"){return;};if (!$("ieFontCheck")){return;};var dSize = $("ieFontCheck").offsetWidth;var lastsize=0;try{lastsize=Runtime.Page.Display.Parameters.LAST_SIZE;}catch(ex){lastsize=usingNamespace("Runtime.Page.Display.Parameters")["LAST_SIZE"]=0;};if(dSize==lastsize){return;};if(dSize > 7){if (dSize < 11){Biz.Page.Display.AutoFontSize.setCss("biggerFontSizeTemplate");}else{Biz.Page.Display.AutoFontSize.setCss("biggestFontSizeTemplate");};}else{Biz.Page.Display.AutoFontSize.clearCss();};Runtime.Page.Display.Parameters.LAST_SIZE=dSize;Biz.Page.Display.AutoFontSize.showWarning(dSize);};usingNamespace("Biz.Page.Display")["AutoFontSize"] = {initialize:function(){window.attachEvent("onload",(function(){Biz.Page.Display.AutoFontSize.process();}));usingNamespace("Runtime.Page.Display.Parameters")["LAST_SIZE"]=0;},process:function(){if(Web.Environment.Browser.isIE()){window.setInterval(Biz.Page.Display.AutoFontSizeForIE, 200);}else{window.setInterval(Biz.Page.Display.AutoFontSizeForFF, 200);};},clearCss:function(){Web.UI.Control.clearCss($("rolloverMenu"));Web.UI.Control.clearCss($("blaNavigation"));Web.UI.Control.clearCss($("bodyRightArea"));Web.UI.Control.clearCss($("haInfoBar"));},setCss:function(className){if(!String.isNullOrEmpty(className)){Web.UI.Control.setAttribute($("rolloverMenu"),{"className":className});Web.UI.Control.setAttribute($("blaNavigation"),{"className":className});Web.UI.Control.setAttribute($("bodyRightArea"),{"className":className});Web.UI.Control.setAttribute($("haInfoBar"),{"className":className});}},showWarning:function(dSize){if(!Number.isNumeric(dSize)){return;};var bfw;var maxSize = (Web.Environment.Browser.isIE()) ? 13 : 15 ;if (bfw = $("bigFontWarring")){if (dSize > maxSize){Web.UI.Control.setAttribute(bfw,{"style.display":"block"});}else{Web.UI.Control.setAttribute(bfw,{"style.display":"none"});};};}};Biz.Page.Display.AutoFontSize.initialize();usingNamespace("Biz.Page.Display")["AutoPositionTabMenu"]={submenuWidth:166,submenuLeft:-2,adjustSubmenuPosition:function(n){if(String.isNullOrEmpty(n)||!$(n)){return;};var apm=Biz.Page.Display.AutoPositionTabMenu;var menu=$(n);if(Web.Environment.Browser.currentVersion()!=Web.Enum.Browser.Netscape_7){if(!apm.checkWidth(menu)){if(Web.Environment.Browser.isNetscape()){menu.style.right=apm.submenuWidth+"px";return;};menu.style.right="0px";}else{menu.style.right="";};};},checkWidth:function(e){try{var apm=Biz.Page.Display.AutoPositionTabMenu;if(Web.Environment.Browser.isIE()){return (e.parentNode.offsetLeft-$("container").offsetLeft+apm.submenuWidth+apm.submenuLeft)>$("container").offsetWidth?false:true;};return (e.parentNode.offsetLeft-$("container").offsetLeft+apm.submenuWidth+apm.submenuLeft)>$("container").clientWidth?false:true;}catch(er){return true;};}};